plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.title = element_text(color = "red", hjust = 0.5, size = 25))
d16_data |>
ggplot(aes(x = temp_bottom, y = salinity_bottom)) +
geom_point(aes(color = hypoxia_bool),
alpha = 0.5,
size = 5) +
scale_color_manual(values = c("darkgreen", "red")) +
labs(title = "Chesapeake Bay Hypoxia Studies",
subtitle = "30 Day Chart Challenge, Day 16: Environment",
caption = "Data Source: Chesapeake Bay Program",
x = "temperature (Celsius)",
y = "salinity (ppt)") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "none",
# legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.title = element_text(color = "red", hjust = 0.5, size = 25))
d16_data |>
ggplot(aes(x = temp_bottom, y = salinity_bottom)) +
geom_point(aes(color = hypoxia_bool),
alpha = 0.5,
size = 5) +
scale_color_manual(values = c("darkgreen", "red")) +
labs(title = "Chesapeake Bay Hypoxia Studies",
subtitle = "30 Day Chart Challenge, Day 16: Environment",
caption = "Data Source: Chesapeake Bay Program",
x = "temperature (Celsius)",
y = "salinity (ppt)") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "left",
# legend.title = element_blank(),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.title = element_text(color = "red", hjust = 0.5, size = 25))
d16_data |>
ggplot(aes(x = temp_bottom, y = salinity_bottom)) +
geom_point(aes(color = hypoxia_bool),
alpha = 0.5,
size = 5) +
scale_color_manual(values = c("darkgreen", "red")) +
labs(title = "Chesapeake Bay Hypoxia Studies",
subtitle = "30 Day Chart Challenge, Day 16: Environment",
caption = "Data Source: Chesapeake Bay Program",
x = "temperature (Celsius)",
y = "salinity (ppt)") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "left",
legend.title = element_text(color = "red"),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.title = element_text(color = "red", hjust = 0.5, size = 25))
?legend.title
?element_text
d16_data |>
ggplot(aes(x = temp_bottom, y = salinity_bottom)) +
geom_point(aes(color = hypoxia_bool),
alpha = 0.5,
name = "Oxygen Concentration",
size = 5) +
scale_color_manual(values = c("darkgreen", "red")) +
labs(title = "Chesapeake Bay Hypoxia Studies",
subtitle = "30 Day Chart Challenge, Day 16: Environment",
caption = "Data Source: Chesapeake Bay Program",
x = "temperature (Celsius)",
y = "salinity (ppt)") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "left",
legend.title = element_text(color = "red"),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.title = element_text(color = "red", hjust = 0.5, size = 25))
d16_data |>
ggplot(aes(x = temp_bottom, y = salinity_bottom)) +
geom_point(aes(color = hypoxia_bool),
alpha = 0.5,
size = 5) +
scale_color_manual(name = "Oxygen Concentration",
values = c("darkgreen", "red")) +
labs(title = "Chesapeake Bay Hypoxia Studies",
subtitle = "30 Day Chart Challenge, Day 16: Environment",
caption = "Data Source: Chesapeake Bay Program",
x = "temperature (Celsius)",
y = "salinity (ppt)") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "left",
legend.title = element_text(color = "red"),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.title = element_text(color = "red", hjust = 0.5, size = 25))
d16_data |>
ggplot(aes(x = temp_bottom, y = salinity_bottom)) +
geom_point(aes(color = hypoxia_bool),
alpha = 0.5,
size = 5) +
scale_color_manual(name = "Oxygen Concentration",
values = c("darkgreen", "red")) +
labs(title = "Chesapeake Bay Hypoxia Studies",
subtitle = "30 Day Chart Challenge, Day 16: Environment",
caption = "Data Source: Chesapeake Bay Program",
x = "temperature (Celsius)",
y = "salinity (ppt)") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_text(color = "red"),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.title = element_text(color = "red", hjust = 0.5, size = 25))
d16_data |>
ggplot(aes(x = temp_bottom, y = salinity_bottom)) +
geom_point(aes(color = hypoxia_bool),
alpha = 0.5,
size = 5) +
scale_color_manual(name = "Oxygen Concentration",
values = c("darkgreen", "red")) +
labs(title = "Chesapeake Bay Hypoxia Studies",
subtitle = "30 Day Chart Challenge, Day 16: Environment",
caption = "Data Source: Chesapeake Bay Program",
x = "temperature (Celsius)",
y = "salinity (ppt)") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_text(color = "red"),
panel.background = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.title = element_text(color = "red", hjust = 0.5, size = 25))
knitr::opts_chunk$set(echo = TRUE)
library("sf") #handle shape files
library("tidyverse")
# load shape file
# https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/countries
countries_shp <- st_read("CNTR_BN_60M_2020_4326_INLAND.shp/CNTR_BN_60M_2020_4326_INLAND.shp")
View(countries_shp)
View(countries_shp)
# load shape file
# https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/countries
# countries_shp <- st_read("CNTR_BN_60M_2020_4326_INLAND.shp/CNTR_BN_60M_2020_4326_INLAND.shp")
countries_shp <- st_read("CNTR_BN_60M_2020_3035.shp/CNTR_BN_60M_2020_3035.shp")
View(countries_shp)
# https://data.oecd.org/teachers/teaching-hours.htm
d18_data_raw <- readr::read_csv("DP_LIVE_19042022073753254.csv")
View(d18_data_raw)
d18_data <- d18_data_raw |>
filter(INDICATOR == "PRY")
d18_data <- d18_data_raw |>
filter(SUBJECT == "PRY")
d18_data <- d18_data_raw |>
filter(SUBJECT == "PRY") |>
group_by(LOCATION) |>
filter(TIME == max(TIME)) |>
ungroup()
View(d18_data)
d18_data <- d18_data_raw |>
filter(SUBJECT == "PRY") |>
filter(LOCATION != "OAVG") |>
group_by(LOCATION) |>        #for each country ...
filter(TIME == max(TIME)) |> #... retain only most recent statistic
ungroup()
# https://wits.worldbank.org/wits/wits/witshelp/content/codes/country_codes.htm
country_codes <- readxl::read_xlsx("country_codes.xlsx")
?left_join
View(country_codes)
d18_data <- d18_data_raw |>
filter(SUBJECT == "PRY") |>   #focus on primary schools
filter(LOCATION != "OAVG") |> #do not need this overall average
group_by(LOCATION) |>         #for each country ...
filter(TIME == max(TIME)) |>  #... retain only most recent statistic
ungroup()
d18_data <- d18_data |>
left_join(country_codes, by = c("LOCATION" = "iso3"))
d18_data <- d18_data_raw |>
filter(SUBJECT == "PRY") |>   #focus on primary schools
filter(LOCATION != "OAVG") |> #do not need this overall average
group_by(LOCATION) |>         #for each country ...
filter(TIME == max(TIME)) |>  #... retain only most recent statistic
ungroup()
d18_data <- d18_data |>
left_join(country_codes, by = c("LOCATION" = "iso3")) |>
select(country, value)
d18_data <- d18_data_raw |>
filter(SUBJECT == "PRY") |>   #focus on primary schools
filter(LOCATION != "OAVG") |> #do not need this overall average
group_by(LOCATION) |>         #for each country ...
filter(TIME == max(TIME)) |>  #... retain only most recent statistic
ungroup()
d18_data <- d18_data |>
left_join(country_codes, by = c("LOCATION" = "iso3")) |>
select(country, Value)
d18_data <- d18_data_raw |>
filter(SUBJECT == "PRY") |>   #focus on primary schools
filter(LOCATION != "OAVG") |> #do not need this overall average
group_by(LOCATION) |>         #for each country ...
filter(TIME == max(TIME)) |>  #... retain only most recent statistic
ungroup()
# attach full names of countries (rather than using 3-letter codes)
d18_data <- d18_data |>
left_join(country_codes, by = c("LOCATION" = "iso3")) |>
select(country, Value)
# compute median
overall_median = median(d18_data$Value)
# make categorical variable for funsies
d18_data <- d18_data |>
mutate(above_below = ifelse(Value > overall_median, "Above Median", "Below Median"))
d18_data |>
ggplot(aes(x = order(country, -Value), y = Value)) +
geom_bar(stat = "identity")
d18_data |>
ggplot(aes(x = reorder(country, -Value), y = Value)) +
geom_bar(stat = "identity")
d18_data |>
ggplot(aes(x = reorder(country, -Value), y = Value)) +
geom_bar(stat = "identity") +
coord_flip()
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value)) +
geom_bar(stat = "identity") +
coord_flip()
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(stat = "identity") +
coord_flip()
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(title = "Brussels Metro Network",
subtitle = "30 Day Chart Challenge, Day 17: Connections",
caption = "French version of station names",
x = "",
y = "") +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "yellow"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "#EF3340", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "#000000", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(title = "Brussels Metro Network",
subtitle = "30 Day Chart Challenge, Day 17: Connections",
caption = "French version of station names",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "yellow"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "#EF3340", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "#000000", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(title = "Brussels Metro Network",
subtitle = "30 Day Chart Challenge, Day 17: Connections",
caption = "French version of station names",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "#EF3340", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "#000000", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
coord_flip() +
labs(title = "Brussels Metro Network",
subtitle = "30 Day Chart Challenge, Day 17: Connections",
caption = "French version of station names",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "#EF3340", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "#000000", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
coord_flip() +
labs(title = "Brussels Metro Network",
subtitle = "30 Day Chart Challenge, Day 17: Connections",
caption = "French version of station names",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_line(color = "gray50"),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "#EF3340", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "#000000", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
coord_flip() +
labs(title = "Teacher Workloads Around the World",
subtitle = "30 Day Chart Challenge, Day 18: OECD Data",
caption = "Teaching Hours per Year",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_line(color = "gray50"),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "green", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "red", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
scale_fill_manual(values = c("red", "green")) +
coord_flip() +
labs(title = "Teacher Workloads Around the World",
subtitle = "30 Day Chart Challenge, Day 18: OECD Data",
caption = "Teaching Hours per Year",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_line(color = "gray50"),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "green", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "red", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
scale_fill_manual(values = c("red", "darkgreen")) +
coord_flip() +
labs(title = "Teacher Workloads Around the World",
subtitle = "30 Day Chart Challenge, Day 18: OECD Data",
caption = "Teaching Hours per Year",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_line(color = "gray50"),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 15),
plot.subtitle = element_text(color = "red", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
scale_fill_manual(values = c("red", "darkgreen")) +
coord_flip() +
labs(title = "Teacher Workloads Around the World",
subtitle = "30 Day Chart Challenge, Day 18: OECD Data",
caption = "Teaching Hours per Year",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_line(color = "gray50"),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.subtitle = element_text(color = "red", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 25))
d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
scale_fill_manual(values = c("red", "darkgreen")) +
coord_flip() +
labs(title = "Teacher Workloads Around the World",
subtitle = "30 Day Chart Challenge, Day 18: OECD Data",
caption = "Teaching Hours per Year",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_line(color = "gray50"),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.subtitle = element_text(color = "red", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 20))
d18_plot <- d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
scale_fill_manual(values = c("red", "darkgreen")) +
coord_flip() +
labs(title = "Teacher Workloads Around the World",
subtitle = "30 Day Chart Challenge, Day 18: OECD Data",
caption = "Teaching Hours per Year",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = "right",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_line(color = "gray50"),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.subtitle = element_text(color = "red", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 20))
d18_plot
d18_plot <- d18_data |>
ggplot(aes(x = reorder(country, Value), y = Value,
fill = above_below)) +
geom_bar(color = "black", stat = "identity") +
scale_fill_manual(values = c("red", "darkgreen")) +
coord_flip() +
labs(title = "Teacher Workloads Around the World",
subtitle = "30 Day Chart Challenge, Day 18: OECD Data",
caption = "Teaching Hours per Year",
x = "",
y = "") +
theme(#axis.text.x = element_blank(),
#axis.text.y = element_blank(),
#axis.ticks = element_blank(),
legend.position = c(0.8, 0.5),
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_line(color = "gray50"),
panel.grid.minor = element_blank(),
plot.caption = element_text(color = "darkgreen", hjust = 0.5, size = 20),
plot.subtitle = element_text(color = "red", hjust = 0.5, size = 20),
plot.title = element_text(color = "#000000", hjust = 0.5, size = 20))
d18_plot
